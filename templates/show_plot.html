<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>Price Histogram</title>
   <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" />
   <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-blue-50 to-blue-100 min-h-screen flex items-center justify-center p-6">
   <div class="bg-white shadow-lg rounded-lg overflow-hidden max-w-4xl w-full">
      <header class="bg-blue-600 text-white text-center py-6">
         <h1 class="text-4xl font-bold">Histograma de Precios</h1>
         <p class="text-sm mt-2">Precios de {{ item | upper }} en Mercado Libre</p>
      </header>
      <main class="p-6">
         <div class="flex justify-center mb-6">
            <img
               src="data:image/png;base64,{{ plot_base64 }}"
               alt="Price Histogram"
               class="rounded-lg shadow-md hover:scale-105 transition-transform duration-300 max-w-full h-auto"
            />
         </div>
         <div class="grid grid-cols-2 gap-4 text-center">
            <div class="bg-blue-50 p-4 rounded-lg shadow">
               <p class="text-lg font-semibold text-blue-600">Mediana</p>
               <p class="text-xl font-bold">{{ median_price | format_number }} ARS</p>
               <p class="text-sm text-gray-500">({{ median_price_usd | format_number }} USD)</p>
            </div>
            <div class="bg-blue-50 p-4 rounded-lg shadow">
               <p class="text-lg font-semibold text-blue-600">Promedio</p>
               <p class="text-xl font-bold">{{ avg_price | format_number }} ARS</p>
               <p class="text-sm text-gray-500">({{ avg_price_usd | format_number }} USD)</p>
            </div>
            <div class="bg-blue-50 p-4 rounded-lg shadow">
               <p class="text-lg font-semibold text-blue-600">Máximo</p>
               <p class="text-xl font-bold">{{ max_price | format_number }} ARS</p>
               <p class="text-sm text-gray-500">({{ max_price_usd | format_number }} USD)</p>
            </div>
            <div class="bg-blue-50 p-4 rounded-lg shadow">
               <p class="text-lg font-semibold text-blue-600">Mínimo</p>
               <p class="text-xl font-bold">{{ min_price | format_number }} ARS</p>
               <p class="text-sm text-gray-500">({{ min_price_usd | format_number }} USD)</p>
            </div>
         </div>
         <div class="mt-6 flex justify-center gap-4">
            <a
               href="{{ url_for('index') }}"
               class="bg-blue-200 text-blue-800 py-2 px-4 rounded-lg shadow hover:bg-blue-300 transition duration-300"
            >
               Volver
            </a>
            <a
               href="data:image/png;base64,{{ plot_base64 }}"
               download="{{ item }}_price_histogram_MercadoLibre_{{ current_date }}_{{ number_of_pages }}_pages.png"
               class="bg-green-200 text-green-800 py-2 px-4 rounded-lg shadow hover:bg-green-300 transition duration-300"
            >
               Descargar gráfico
            </a>
            <a
               href="{{ url }}"
               target="_blank"
               class="bg-gray-200 text-gray-800 py-2 px-4 rounded-lg shadow hover:bg-gray-300 transition duration-300"
            >
               Ver en Mercado Libre
            </a>
         </div>
      </main>
      <footer class="bg-gray-100 text-center py-4 text-sm text-gray-500">
         &copy; 2025 PyoneerC. No afiliado a Mercado Libre.
         <a
            href="https://github.com/pyoneerC/mercado-libre-price-chart"
            target="_blank"
            class="text-blue-600 hover:underline"
         >
            Ver en GitHub
         </a>
      </footer>
   </div>
</body>
</html>
